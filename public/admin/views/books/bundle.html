<div class="bundle">
  <h4><i class="fa fa-book" aria-hidden="true"></i>Bundle detail</h4>
  <div class="content">
    <md-card>
      <md-card-content>
        <form name="bundleForm" role="form" class="col s12" ng-submit="updateBundle()">
          <div class="row">
            <md-input-container class="md-block" md-no-float>
              <label>Title</label>
              <input type="text" name="title" ng-model="bundle.title" required ng-minlength="6" />
              <div ng-messages="bundleForm.title.$error" role="alert">
               <div ng-message="required">Please enter a value for this field.</div>
               <div ng-message="minlength">This field can be at least 6 characters long.</div>
              </div>
            </md-input-container>
          </div>

          <div class="row">
            <md-input-container>
              <label>Url</label>
              <input type="text" name="bundleurl" ng-model="bundle.bundleurl" required ng-minlength="5"/>
              <div ng-messages="bundleForm.bundleurl.$error" role="alert">
               <div ng-message="required">Please enter a value for this field.</div>
               <div ng-message="minlength">This field can be at least 5 characters long.</div>
              </div>
            </md-input-container>
          </div>

          <div class="row">
            <md-input-container class="md-block">
              <label>Description</label>
              <textarea name="description" ng-model="bundle.description" required></textarea>
            </md-input-container>
          </div>

          <div class="row">
            <md-input-container>
              <label>Minimum price</label>
              <input type="number" name="minimum" ng-model="bundle.minimum" required />
              <div ng-messages="bundleForm.minimum.$error" role="alert">
               <div ng-message="required">Please enter a value for this field.</div>
               <div ng-message="number">This field can only numeric.</div>
              </div>
            </md-input-container>
          </div>

          <div class="row">
            <md-input-container>
              <md-checkbox ng-model="bundle.is_published" aria-label="Finished">
                Is published
              </md-checkbox>
            </md-input-container>
          </div>

          <md-button type="submit" class="md-raised md-cornered md-accent">Save</md-button>

        </form>
      </md-card-content>
    </md-card>
    <md-content layout-padding>
      <div class="books-in-bundle">
        <h4>Books in bundles</h4>
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Title</th>
              <th>Royalty</th>
              <th>Accept</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="(key, book) in bundle.books">
              <td>{{ book.title }}</td>
              <td>{{ book.pivot.royalty }}</td>
              <td ng-bind-html="book.pivot.accepted | labelYesNo"></td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div> <!-- .books-in-bundle -->
    </md-content>
  </div> <!-- .content -->
</div>
